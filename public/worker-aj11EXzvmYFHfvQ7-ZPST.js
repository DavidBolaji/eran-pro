self.addEventListener("push",(function(t){const{title:i,body:n,icon:e}=JSON.parse(t.data.text());if(t.data){const o={body:n,icon:e||"/icon.png",badge:"/badge.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:"2"}};t.waitUntil(self.registration.showNotification(i,o))}})),self.addEventListener("notificationclick",(async t=>{t.notification.close(),t.waitUntil(clients.matchAll({type:"window"}).then((t=>{for(const i of t)if("/"===i.url&&"focus"in i)return i.focus();if(clients.openWindow)return clients.openWindow("/")})))}));